{"version":3,"sources":["processor.js"],"names":["q","require","_","movement","utils","driver","getDriver","C","constants","config","roomsQueue","usersQueue","lastRoomsStatsSaveTime","currentHistoryPromise","when","processRoom","roomId","intents","objects","users","terrain","gameTime","roomInfo","flags","then","bulk","bulkObjectsWrite","userBulk","bulkUsersWrite","flagsBulk","bulkFlagsWrite","oldObjects","roomController","hasNewbieWalls","stats","getRoomStatsUpdater","objectsToHistory","roomSpawns","roomExtensions","oldRoomInfo","clone","active","terrainItem","findKey","forEach","object","type","_actionLog","actionLog","_ticksToLive","ageTime","attacked","healed","attack","rangedAttack","rangedMassAttack","rangedHeal","harvest","heal","repair","build","say","upgradeController","reserveController","transferEnergy","runReaction","observeRoom","user","userNotActive","decayTime","push","emit","length","init","userIntents","userId","objectsManual","extend","objectId","objectIntents","_skip","setPublic","send","launchNuke","roomName","transfer","unclaim","activateSafeMode","notifyWhenAttacked","CONSTRUCTION_COST","update","enabled","check","safeMode","energyAvailable","filter","i","off","sum","mapView","w","r","pb","p","s","c","m","k","resultPromises","userVisibility","energyCapacity","level","CONTROLLER_STRUCTURES","storage","STORAGE_CAPACITY","remove","_id","JSON","parse","stringify","isPublic","newbieWall","x","y","resourceType","mapViewSave","execute","isEqual","saveRoomInfo","saveRoomHistory","Date","now","roomsStatsSave","all","promise","historyChunkSize","baseTime","Math","floor","history","upload","data","saveTick","connect","queue","create","_roomsQueue","loop","fetch","_roomId","getRoomIntents","getRoomObjects","getRoomTerrain","getGameTime","getRoomInfo","getRoomFlags","result","catch","error","console","log","isObject","stack","clearRoomIntents","markDone","setTimeout","self","setInterval","rejections","getUnhandledReasons","resetUnhandledRejections"],"mappings":"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","file":"../processor.js","sourceRoot":"/src"}