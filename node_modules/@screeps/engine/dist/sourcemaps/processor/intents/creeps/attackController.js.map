{"version":3,"sources":["processor/intents/creeps/attackController.js"],"names":["_","require","utils","driver","getDriver","C","constants","module","exports","object","intent","roomObjects","roomTerrain","bulk","bulkUsers","roomController","stats","gameTime","type","spawning","target","id","Math","abs","x","y","user","reservation","safeMode","upgradeBlocked","effect","floor","filter","body","i","hits","CLAIM","length","CONTROLLER_RESERVE","endTime","update","CONTROLLER_CLAIM_DOWNGRADE","downgradeTime","_upgradeBlocked","CONTROLLER_ATTACK_BLOCKED_UPGRADE","actionLog","attack"],"mappings":";;AAAA,IAAIA,IAAIC,QAAQ,QAAR,CAAR;AAAA,IACIC,QAASD,QAAQ,gBAAR,CADb;AAAA,IAEIE,SAASD,MAAME,SAAN,EAFb;AAAA,IAGIC,IAAIF,OAAOG,SAHf;;AAKAC,OAAOC,OAAP,GAAiB,UAASC,MAAT,EAAiBC,MAAjB,EAAyBC,WAAzB,EAAsCC,WAAtC,EAAmDC,IAAnD,EAAyDC,SAAzD,EAAoEC,cAApE,EAAoFC,KAApF,EAA2FC,QAA3F,EAAqG;;AAElH,QAAGR,OAAOS,IAAP,IAAe,OAAlB,EAA2B;AACvB;AACH;AACD,QAAGT,OAAOU,QAAV,EAAoB;AAChB;AACH;;AAED,QAAIC,SAAST,YAAYD,OAAOW,EAAnB,CAAb;AACA,QAAG,CAACD,MAAD,IAAWA,OAAOF,IAAP,IAAe,YAA7B,EAA2C;AACvC;AACH;AACD,QAAGI,KAAKC,GAAL,CAASH,OAAOI,CAAP,GAAWf,OAAOe,CAA3B,IAAgC,CAAhC,IAAqCF,KAAKC,GAAL,CAASH,OAAOK,CAAP,GAAWhB,OAAOgB,CAA3B,IAAgC,CAAxE,EAA2E;AACvE;AACH;AACD,QAAG,CAACL,OAAOM,IAAR,IAAgB,CAACN,OAAOO,WAA3B,EAAwC;AACpC;AACH;AACD,QAAGZ,kBAAkBA,eAAeW,IAAf,IAAuBjB,OAAOiB,IAAhD,IAAwDX,eAAea,QAAf,GAA0BX,QAAlF,IACCF,eAAec,cAAf,GAAgCZ,QADpC,EAC8C;AAC1C;AACH;;AAED,QAAGG,OAAOO,WAAV,EAAuB;AACnB,YAAIG,SAASR,KAAKS,KAAL,CAAW/B,EAAEgC,MAAF,CAASvB,OAAOwB,IAAhB,EAAsB,UAACC,CAAD;AAAA,mBAAOA,EAAEC,IAAF,GAAS,CAAT,IAAcD,EAAEhB,IAAF,IAAUb,EAAE+B,KAAjC;AAAA,SAAtB,EAA8DC,MAA9D,GAAuEhC,EAAEiC,kBAApF,CAAb;AACA,YAAG,CAACR,MAAJ,EAAY;AACR;AACH;AACD,YAAIS,UAAUnB,OAAOO,WAAP,CAAmBY,OAAnB,GAA6BT,MAA3C;AACAjB,aAAK2B,MAAL,CAAYpB,MAAZ,EAAoB,EAACO,aAAa,EAACY,gBAAD,EAAd,EAApB;AACH;AACD,QAAGnB,OAAOM,IAAV,EAAgB;AACZ,YAAII,SAASR,KAAKS,KAAL,CAAW/B,EAAEgC,MAAF,CAASvB,OAAOwB,IAAhB,EAAsB,UAACC,CAAD;AAAA,mBAAOA,EAAEC,IAAF,GAAS,CAAT,IAAcD,EAAEhB,IAAF,IAAUb,EAAE+B,KAAjC;AAAA,SAAtB,EAA8DC,MAA9D,GAAuEhC,EAAEoC,0BAApF,CAAb;AACA,YAAG,CAACX,MAAJ,EAAY;AACR;AACH;AACD,YAAIY,gBAAgBtB,OAAOsB,aAAP,GAAuBZ,MAA3C;AACAjB,aAAK2B,MAAL,CAAYpB,MAAZ,EAAoB,EAACsB,4BAAD,EAApB;AACAtB,eAAOuB,eAAP,GAAyB1B,WAAWZ,EAAEuC,iCAAtC;AACH;AACDnC,WAAOoC,SAAP,CAAiBC,MAAjB,GAA0B,EAACtB,GAAGJ,OAAOI,CAAX,EAAcC,GAAGL,OAAOK,CAAxB,EAA1B;AACH,CA1CD","file":"../../../../processor/intents/creeps/attackController.js","sourceRoot":"/src"}