{"version":3,"sources":["runner.js"],"names":["q","require","_","util","utils","driver","getDriver","C","constants","runUser","userId","onlyInRoom","config","emit","makeRuntime","then","saveResult","runResult","console","sendConsoleMessages","promises","memory","push","saveUserMemory","memorySegments","saveUserMemorySegments","interShardSegment","saveUserMemoryInterShardSegment","intents","saveUserIntents","all","error","reject","connect","queue","create","usersQueue","_usersQueue","startLoop","fetchedUserId","fetch","_userId","m","match","catch","sendConsoleError","markDone","isObject","stack","finally","log","self","setInterval","rejections","getUnhandledReasons","forEach","i","resetUnhandledRejections"],"mappings":"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","file":"../runner.js","sourceRoot":"/src"}