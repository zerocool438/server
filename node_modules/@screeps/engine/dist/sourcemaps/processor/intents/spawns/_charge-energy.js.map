{"version":3,"sources":["processor/intents/spawns/_charge-energy.js"],"names":["_","require","utils","driver","getDriver","C","constants","oldEnergyHandling","spawn","roomObjects","cost","bulk","spawns","filter","i","type","user","off","extensions","availableEnergy","sum","sort","comparatorDistance","forEach","neededEnergy","Math","min","energy","update","extension","newEnergyHandling","energyStructures","energyStructure","id","uniq","energyChange","module","exports","chargeEnergy","undefined"],"mappings":"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","file":"../../../../processor/intents/spawns/_charge-energy.js","sourceRoot":"/src"}