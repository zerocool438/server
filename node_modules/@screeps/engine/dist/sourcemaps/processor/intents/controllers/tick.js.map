{"version":3,"sources":["processor/intents/controllers/tick.js"],"names":["_","require","utils","driver","getDriver","C","constants","module","exports","object","roomObjects","roomTerrain","bulk","bulkUsers","roomController","gameTime","roomInfo","users","type","reservation","endTime","user","update","addRoomToUser","room","_upgradeBlocked","upgradeBlocked","downgradeTime","tutorial","CONTROLLER_DOWNGRADE","level","_upgraded","Math","min","CONTROLLER_DOWNGRADE_RESTORE","sendNotification","removeRoomFromUser","progress","safeMode","safeModeAvailable","safeModeCooldown","novice","Date","now","SAFE_MODE_COOLDOWN","round","CONTROLLER_LEVELS"],"mappings":"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","file":"../../../../processor/intents/controllers/tick.js","sourceRoot":"/src"}