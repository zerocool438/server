{"version":3,"sources":["processor/intents/labs/transfer.js"],"names":["_","require","utils","driver","getDriver","C","constants","module","exports","object","intent","roomObjects","roomTerrain","bulk","contains","RESOURCES_ALL","resourceType","target","id","type","calcResources","energyCapacity","amount","Math","abs","x","y","amountKey","RESOURCE_ENERGY","mineralAmount","mineralType","update"],"mappings":";;;;AAAA,IAAIA,IAAIC,QAAQ,QAAR,CAAR;AAAA,IACIC,QAASD,QAAQ,gBAAR,CADb;AAAA,IAEIE,SAASD,MAAME,SAAN,EAFb;AAAA,IAGIC,IAAIF,OAAOG,SAHf;;AAKAC,OAAOC,OAAP,GAAiB,UAASC,MAAT,EAAiBC,MAAjB,EAAyBC,WAAzB,EAAsCC,WAAtC,EAAmDC,IAAnD,EAAyD;;AAEtE,QAAG,CAACb,EAAEc,QAAF,CAAWT,EAAEU,aAAb,EAA4BL,OAAOM,YAAnC,CAAJ,EAAsD;AAClD;AACH;;AAED,QAAIC,SAASN,YAAYD,OAAOQ,EAAnB,CAAb;AACA,QAAG,CAACD,MAAD,IAAWA,OAAOE,IAAP,IAAe,OAA1B,IAAqCjB,MAAMkB,aAAN,CAAoBH,MAApB,KAA+BA,OAAOI,cAA3E,IAA6FX,OAAOY,MAAP,GAAgB,CAAhH,EAAmH;AAC/G;AACH;AACD,QAAGC,KAAKC,GAAL,CAASP,OAAOQ,CAAP,GAAWhB,OAAOgB,CAA3B,IAAgC,CAAhC,IAAqCF,KAAKC,GAAL,CAASP,OAAOS,CAAP,GAAWjB,OAAOiB,CAA3B,IAAgC,CAAxE,EAA2E;AACvE;AACH;AACD,QAAIJ,SAASZ,OAAOY,MAApB;AACA,QAAIK,YAAYjB,OAAOM,YAAP,IAAuBX,EAAEuB,eAAzB,GAA2C,QAA3C,GAAsD,eAAtE;AACA,QAAG1B,MAAMkB,aAAN,CAAoBH,MAApB,IAA8BK,MAA9B,GAAuCL,OAAOI,cAAjD,EAAiE;AAC7DC,iBAASL,OAAOI,cAAP,GAAwBnB,MAAMkB,aAAN,CAAoBH,MAApB,CAAjC;AACH;AACD,QAAGR,OAAOkB,SAAP,IAAoBL,MAAvB,EAA+B;AAC3B;AACH;;AAEDL,WAAOP,OAAOM,YAAd,IAA8BC,OAAOP,OAAOM,YAAd,KAA+B,CAA7D;AACAC,WAAOP,OAAOM,YAAd,KAA+BM,MAA/B;;AAGAb,WAAOkB,SAAP,KAAqBL,MAArB;AACA,QAAG,CAACb,OAAOoB,aAAR,IAAyBpB,OAAOqB,WAAnC,EAAgD;AAC5CjB,aAAKkB,MAAL,CAAYtB,MAAZ,EAAoB,EAACqB,aAAa,IAAd,EAApB;AACH;;AAEDjB,SAAKkB,MAAL,CAAYtB,MAAZ,sBAAsBkB,SAAtB,EAAkClB,OAAOkB,SAAP,CAAlC;AACAd,SAAKkB,MAAL,CAAYd,MAAZ,sBAAsBP,OAAOM,YAA7B,EAA4CC,OAAOP,OAAOM,YAAd,CAA5C;AACH,CAjCD","file":"../../../../processor/intents/labs/transfer.js","sourceRoot":"/src"}