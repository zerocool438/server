{"version":3,"sources":["processor/intents/creeps/build.js"],"names":["_","require","config","utils","driver","getDriver","C","constants","createdStructureCounter","module","exports","object","intent","roomObjects","roomTerrain","bulk","bulkUsers","roomController","stats","gameTime","type","spawning","energy","target","id","CONSTRUCTION_COST","structureType","Math","abs","x","y","any","contains","OBSTACLE_OBJECT_TYPES","i","checkTerrain","TERRAIN_MASK_WALL","buildPower","filter","body","hits","_oldHits","WORK","length","BUILD_POWER","buildRemaining","progressTotal","progress","buildEffect","min","boostedParts","map","boost","BOOSTS","build","sort","a","b","slice","boostedEffect","floor","sum","tutorial","checkControllerAvailability","inc","user","actionLog","update","remove","_id","newObject","room","notifyWhenAttacked","extend","name","energyCapacity","SPAWN_ENERGY_CAPACITY","SPAWN_HITS","hitsMax","EXTENSION_HITS","LINK_CAPACITY","cooldown","LINK_HITS","LINK_HITS_MAX","STORAGE_CAPACITY","STORAGE_HITS","RAMPART_HITS","nextDecayTime","RAMPART_DECAY_TIME","ROAD_HITS","TERRAIN_MASK_SWAMP","CONSTRUCTION_COST_ROAD_SWAMP_RATIO","WALL_HITS","WALL_HITS_MAX","TOWER_CAPACITY","TOWER_HITS","OBSERVER_HITS","EXTRACTOR_HITS","LAB_HITS","mineralAmount","mineralType","mineralCapacity","LAB_MINERAL_CAPACITY","LAB_ENERGY_CAPACITY","power","powerCapacity","POWER_SPAWN_POWER_CAPACITY","POWER_SPAWN_ENERGY_CAPACITY","POWER_SPAWN_HITS","TERMINAL_CAPACITY","TERMINAL_HITS","CONTAINER_CAPACITY","CONTAINER_HITS","CONTAINER_DECAY_TIME","ptr","NUKER_ENERGY_CAPACITY","G","GCapacity","NUKER_GHODIUM_CAPACITY","NUKER_HITS","cooldownTime","NUKER_COOLDOWN","insert"],"mappings":"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","file":"../../../../processor/intents/creeps/build.js","sourceRoot":"/src"}