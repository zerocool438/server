{"version":3,"sources":["processor/intents/creeps/transfer.js"],"names":["_","require","utils","driver","getDriver","C","constants","module","exports","object","intent","roomObjects","roomTerrain","bulk","bulkUsers","type","contains","RESOURCES_ALL","resourceType","spawning","amount","target","id","Math","abs","x","y","RESOURCE_ENERGY","mineralType","targetCapacityKey","targetAmountKey","update","mineralAmount","RESOURCE_GHODIUM","targetTotal","calcResources","energyCapacity"],"mappings":"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","file":"../../../../processor/intents/creeps/transfer.js","sourceRoot":"/src"}