'use strict';

var _ = require('lodash'),
    utils = require('../../../utils'),
    driver = utils.getDriver(),
    C = driver.constants;

module.exports = function (spawn, intent, roomObjects, roomTerrain, bulk) {
    if (spawn.type != 'spawn' || !spawn.spawning) return;
    var directions = intent.directions;
    if (_.isArray(directions) && directions.length > 0) {
        // convert directions to numbers, eliminate duplicates
        directions = _.uniq(_.map(directions, function (e) {
            return +e;
        }));
        // bail if any numbers are out of bounds or non-integers
        if (!_.any(directions, function (direction) {
            return direction < 1 || direction > 8 || direction !== (direction | 0);
        })) {
            bulk.update(spawn, { spawning: { directions: directions } });
        }
    }
};
//# sourceMappingURL=../../../sourcemaps/processor/intents/spawns/set-spawn-directions.js.map
