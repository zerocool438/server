{"version":3,"sources":["processor/intents/room/destroy-structure.js"],"names":["_","require","utils","driver","getDriver","C","constants","module","exports","intent","userId","roomObjects","roomTerrain","bulk","bulkUsers","roomController","object","id","CONSTRUCTION_COST","type","user","STRUCTURE_WALL","decayTime","any","i","remove","_id","spawning","find","name","RESOURCES_ALL","forEach","resourceType","x","y","room","mineralType","mineralAmount"],"mappings":";;AAAA,IAAIA,IAAIC,QAAQ,QAAR,CAAR;AAAA,IACIC,QAAQD,QAAQ,gBAAR,CADZ;AAAA,IAEIE,SAASD,MAAME,SAAN,EAFb;AAAA,IAGIC,IAAIF,OAAOG,SAHf;;AAKAC,OAAOC,OAAP,GAAiB,UAASC,MAAT,EAAiBC,MAAjB,EAAyBC,WAAzB,EAAsCC,WAAtC,EAAmDC,IAAnD,EAAyDC,SAAzD,EAAoEC,cAApE,EAAoF;;AAEjG,QAAIC,SAASL,YAAYF,OAAOQ,EAAnB,CAAb;;AAEA,QAAG,CAACD,MAAD,IAAW,CAACX,EAAEa,iBAAF,CAAoBF,OAAOG,IAA3B,CAAf,EAAiD;;AAEjD,QAAG,CAACJ,cAAD,IAAmBA,eAAeK,IAAf,IAAuBV,MAA7C,EAAqD;;AAErD,QAAGM,OAAOG,IAAP,IAAed,EAAEgB,cAAjB,IAAmCL,OAAOM,SAA1C,IAAuD,CAACN,OAAOI,IAAlE,EAAwE;;AAExE,QAAGpB,EAAEuB,GAAF,CAAMZ,WAAN,EAAmB;AAAA,eAAKa,EAAEL,IAAF,IAAU,OAAV,IAAqBK,EAAEJ,IAAF,IAAUV,MAApC;AAAA,KAAnB,CAAH,EAAmE;;AAEnEG,SAAKY,MAAL,CAAYT,OAAOU,GAAnB;;AAEA,QAAGV,OAAOG,IAAP,IAAe,OAAf,IAA0BH,OAAOW,QAApC,EAA8C;AAC1C,YAAIA,WAAW3B,EAAE4B,IAAF,CAAOjB,WAAP,EAAoB,EAACS,MAAMJ,OAAOI,IAAd,EAAoBS,MAAMb,OAAOW,QAAP,CAAgBE,IAA1C,EAApB,CAAf;AACA,YAAGF,QAAH,EAAa;AACTd,iBAAKY,MAAL,CAAYE,SAASD,GAArB;AACH;AACJ;;AAEDrB,MAAEyB,aAAF,CAAgBC,OAAhB,CAAwB,wBAAgB;AACpC;AACA,YAAIf,OAAOgB,YAAP,IAAuB,CAA3B,EAA8B;AAC1B/B,oBAAQ,0BAAR,EAAoCe,OAAOiB,CAA3C,EAA8CjB,OAAOkB,CAArD,EAAwDlB,OAAOmB,IAA/D,EACAnB,OAAOgB,YAAP,CADA,EACsBrB,WADtB,EACmCE,IADnC,EACyCmB,YADzC;AAEH;AACD;AACA,YAAIhB,OAAOoB,WAAP,KAAuBJ,YAAvB,IAAuChB,OAAOqB,aAAP,GAAuB,CAAlE,EAAqE;AACjEpC,oBAAQ,0BAAR,EAAoCe,OAAOiB,CAA3C,EAA8CjB,OAAOkB,CAArD,EAAwDlB,OAAOmB,IAA/D,EACAnB,OAAOqB,aADP,EACsB1B,WADtB,EACmCE,IADnC,EACyCmB,YADzC;AAEH;AACJ,KAXD;;AAaA,QAAGhB,OAAOG,IAAP,IAAe,iBAAf,IAAoCH,OAAOM,SAA3C,IAAwDN,OAAOI,IAAlE,EAAwE;AACpEnB,gBAAQ,+BAAR,EAAyCU,WAAzC,EAAsDE,IAAtD;AACH;AAEJ,CAtCD","file":"../../../../processor/intents/room/destroy-structure.js","sourceRoot":"/src"}