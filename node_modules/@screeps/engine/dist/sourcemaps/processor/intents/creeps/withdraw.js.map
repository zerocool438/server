{"version":3,"sources":["processor/intents/creeps/withdraw.js"],"names":["_","require","utils","driver","getDriver","C","constants","module","exports","object","intent","roomObjects","roomTerrain","bulk","bulkUsers","roomController","stats","gameTime","contains","RESOURCES_ALL","resourceType","totalResources","calcResources","emptySpace","energyCapacity","amount","Math","min","spawning","user","safeMode","target","id","any","i","type","STRUCTURE_RAMPART","isPublic","x","y","abs","RESOURCE_ENERGY","mineralType","targetCapacityKey","targetAmountKey","update","mineralAmount"],"mappings":"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","file":"../../../../processor/intents/creeps/withdraw.js","sourceRoot":"/src"}