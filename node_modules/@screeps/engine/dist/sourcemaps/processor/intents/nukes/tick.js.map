{"version":3,"sources":["processor/intents/nukes/tick.js"],"names":["_","require","utils","driver","getDriver","C","constants","module","exports","object","roomObjects","roomTerrain","bulk","bulkUsers","roomController","stats","gameTime","roomInfo","novice","Date","now","respawnArea","remove","_id","landTime","forEach","target","type","dx","dy","x","y","range","Math","max","abs","damage","NUKE_DAMAGE","objects","filter","rampart","find","rampartHits","hits","pull","safeMode","update","safeModeCooldown","user","upgradeBlocked","CONTROLLER_NUKE_BLOCKED_UPGRADE"],"mappings":"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","file":"../../../../processor/intents/nukes/tick.js","sourceRoot":"/src"}