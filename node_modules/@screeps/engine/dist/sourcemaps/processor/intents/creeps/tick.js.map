{"version":3,"sources":["processor/intents/creeps/tick.js"],"names":["_","require","utils","driver","getDriver","C","constants","movement","_applyDamage","object","damage","damageReduce","damageEffective","any","body","i","boost","length","bodyPart","damageRatio","BOOSTS","type","bodyPartHitsEffective","hits","Math","min","round","module","exports","roomObjects","roomTerrain","bulk","bulkUsers","roomController","stats","gameTime","spawning","spawn","find","x","y","remove","_id","name","execute","user","roomNameToXY","room","roomX","roomY","getRoomNameFromXY","update","interRoom","ageTime","portal","destination","tutorial","CLAIM","CREEP_CLAIM_LIFE_TIME","CREEP_LIFE_TIME","undefined","isEqual","actionLog","_actionLog","fatigue","moves","calcBodyEffectiveness","MOVE","isNaN","userSummoned","oldHits","_damageToApply","_healToApply","hitsMax","energyCapacity"],"mappings":"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","file":"../../../../processor/intents/creeps/tick.js","sourceRoot":"/src"}