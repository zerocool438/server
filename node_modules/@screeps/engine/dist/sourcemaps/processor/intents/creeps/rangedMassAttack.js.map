{"version":3,"sources":["processor/intents/creeps/rangedMassAttack.js"],"names":["_","require","utils","driver","getDriver","C","constants","module","exports","object","intent","roomObjects","roomTerrain","bulk","bulkUsers","roomController","stats","gameTime","roomInfo","type","spawning","attackPower","calcBodyEffectiveness","body","RANGED_ATTACK","RANGED_ATTACK_POWER","user","safeMode","targets","filter","i","isUndefined","x","y","distanceRate","target","find","hits","distance","Math","max","abs","targetAttackPower","round","actionLog","rangedMassAttack"],"mappings":";;AAAA,IAAIA,IAAIC,QAAQ,QAAR,CAAR;AAAA,IACIC,QAASD,QAAQ,gBAAR,CADb;AAAA,IAEIE,SAASD,MAAME,SAAN,EAFb;AAAA,IAGIC,IAAIF,OAAOG,SAHf;;AAKAC,OAAOC,OAAP,GAAiB,UAASC,MAAT,EAAiBC,MAAjB,EAAyBC,WAAzB,EAAsCC,WAAtC,EAAmDC,IAAnD,EAAyDC,SAAzD,EAAoEC,cAApE,EAAoFC,KAApF,EAA2FC,QAA3F,EAAqGC,QAArG,EAA+G;;AAE5H,QAAGT,OAAOU,IAAP,IAAe,OAAlB,EAA2B;AACvB;AACH;AACD,QAAGV,OAAOW,QAAV,EAAoB;AAChB;AACH;;AAED,QAAIC,cAAcnB,MAAMoB,qBAAN,CAA4Bb,OAAOc,IAAnC,EAAyClB,EAAEmB,aAA3C,EAA0D,kBAA1D,EAA8EnB,EAAEoB,mBAAhF,CAAlB;;AAEA,QAAGJ,eAAe,CAAlB,EAAqB;AACjB;AACH;AACD,QAAGN,kBAAkBA,eAAeW,IAAf,IAAuBjB,OAAOiB,IAAhD,IAAwDX,eAAeY,QAAf,GAA0BV,QAArF,EAA+F;AAC3F;AACH;;AAED,QAAIW,UAAU5B,EAAE6B,MAAF,CAASlB,WAAT,EAAsB,UAACmB,CAAD,EAAO;AACvC,eAAO,CAAC,CAAC9B,EAAE+B,WAAF,CAAcD,EAAEJ,IAAhB,CAAD,IAA0BI,EAAEX,IAAF,IAAU,WAArC,KAAqDW,EAAEJ,IAAF,IAAUjB,OAAOiB,IAAtE,IACHI,EAAEE,CAAF,IAAOvB,OAAOuB,CAAP,GAAW,CADf,IACoBF,EAAEE,CAAF,IAAOvB,OAAOuB,CAAP,GAAW,CADtC,IAEHF,EAAEG,CAAF,IAAOxB,OAAOwB,CAAP,GAAW,CAFf,IAEoBH,EAAEG,CAAF,IAAOxB,OAAOwB,CAAP,GAAW,CAF7C;AAGH,KAJa,CAAd;;AAMA,QAAIC,eAAe,EAAC,GAAG,CAAJ,EAAO,GAAG,GAAV,EAAe,GAAG,GAAlB,EAAnB;;AAEA,SAAI,IAAIJ,CAAR,IAAaF,OAAb,EAAsB;;AAElB,YAAIO,SAASP,QAAQE,CAAR,CAAb;;AAEA,YAAGK,OAAOhB,IAAP,IAAe,SAAf,IAA4BnB,EAAEoC,IAAF,CAAOzB,WAAP,EAAoB,EAACQ,MAAM,SAAP,EAAkBa,GAAGG,OAAOH,CAA5B,EAA+BC,GAAGE,OAAOF,CAAzC,EAApB,CAA/B,EAAiG;AAC7F;AACH;AACD,YAAG,CAACE,OAAOE,IAAX,EAAiB;AACb;AACH;;AAED,YAAIC,WAAWC,KAAKC,GAAL,CAASD,KAAKE,GAAL,CAAShC,OAAOuB,CAAP,GAAWG,OAAOH,CAA3B,CAAT,EAAwCO,KAAKE,GAAL,CAAShC,OAAOwB,CAAP,GAAWE,OAAOF,CAA3B,CAAxC,CAAf;;AAEA,YAAIS,oBAAoBH,KAAKI,KAAL,CAAWtB,cAAca,aAAaI,QAAb,CAAzB,CAAxB;;AAEArC,gBAAQ,YAAR,EAAsBQ,MAAtB,EAA8B0B,MAA9B,EAAsCO,iBAAtC,EAAyD,QAAzD,EAAmE/B,WAAnE,EAAgFC,WAAhF,EAA6FC,IAA7F,EAAmGE,cAAnG,EAAmHC,KAAnH,EAA0HC,QAA1H,EAAoIC,QAApI;AACH;;AAIDT,WAAOmC,SAAP,CAAiBC,gBAAjB,GAAoC,EAApC;AAGH,CAjDD","file":"../../../../processor/intents/creeps/rangedMassAttack.js","sourceRoot":"/src"}