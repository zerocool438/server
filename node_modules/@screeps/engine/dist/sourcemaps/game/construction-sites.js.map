{"version":3,"sources":["game/construction-sites.js"],"names":["utils","require","rooms","driver","getRuntimeDriver","C","constants","_","runtimeData","intents","register","globals","exports","make","_runtimeData","_intents","_register","_globals","ConstructionSite","data","id","roomObjects","Error","wrapFn","_data","RoomObject","call","x","y","room","prototype","Object","create","constructor","defineGameObjectProperties","progress","o","progressTotal","structureType","name","owner","username","users","user","my","isUndefined","undefined","_id","toString","remove","controller","ERR_NOT_OWNER","pushByName","roomName","OK","defineProperty","enumerable","value"],"mappings":";;AAAA,IAAIA,QAAQC,QAAQ,YAAR,CAAZ;AAAA,IACIC,QAAQD,QAAQ,SAAR,CADZ;AAAA,IAEIE,SAASH,MAAMI,gBAAN,EAFb;AAAA,IAGIC,IAAIF,OAAOG,SAHf;AAAA,IAIIC,IAAIN,QAAQ,QAAR,CAJR;;AAMA,IAAIO,WAAJ,EAAiBC,OAAjB,EAA0BC,QAA1B,EAAoCC,OAApC;;AAEAC,QAAQC,IAAR,GAAe,UAASC,YAAT,EAAuBC,QAAvB,EAAiCC,SAAjC,EAA4CC,QAA5C,EAAsD;;AAEjET,kBAAcM,YAAd;AACAL,cAAUM,QAAV;AACAL,eAAWM,SAAX;AACAL,cAAUM,QAAV;;AAEA,QAAGN,QAAQO,gBAAX,EAA6B;AACzB;AACH;;AAED,QAAIC,OAAO,SAAPA,IAAO,CAACC,EAAD,EAAQ;AACf,YAAG,CAACZ,YAAYa,WAAZ,CAAwBD,EAAxB,CAAJ,EAAiC;AAC7B,kBAAM,IAAIE,KAAJ,CAAU,sCAAoCF,EAA9C,CAAN;AACH;AACD,eAAOZ,YAAYa,WAAZ,CAAwBD,EAAxB,CAAP;AACH,KALD;;AAOA,QAAIF,mBAAmBR,SAASa,MAAT,CAAgB,UAASH,EAAT,EAAa;AAChD,YAAII,QAAQL,KAAKC,EAAL,CAAZ;AACAT,gBAAQc,UAAR,CAAmBC,IAAnB,CAAwB,IAAxB,EAA8BF,MAAMG,CAApC,EAAuCH,MAAMI,CAA7C,EAAgDJ,MAAMK,IAAtD;AACA,aAAKT,EAAL,GAAUA,EAAV;AACH,KAJsB,CAAvB;;AAMAF,qBAAiBY,SAAjB,GAA6BC,OAAOC,MAAP,CAAcrB,QAAQc,UAAR,CAAmBK,SAAjC,CAA7B;AACAZ,qBAAiBY,SAAjB,CAA2BG,WAA3B,GAAyCf,gBAAzC;;AAEAlB,UAAMkC,0BAAN,CAAiChB,iBAAiBY,SAAlD,EAA6DX,IAA7D,EAAmE;AAC/DgB,kBAAU,kBAACC,CAAD;AAAA,mBAAOA,EAAED,QAAT;AAAA,SADqD;AAE/DE,uBAAe,uBAACD,CAAD;AAAA,mBAAOA,EAAEC,aAAT;AAAA,SAFgD;AAG/DC,uBAAe,uBAACF,CAAD;AAAA,mBAAOA,EAAEE,aAAT;AAAA,SAHgD;AAI/DC,cAAM,cAACH,CAAD;AAAA,mBAAOA,EAAEG,IAAT;AAAA,SAJyD;AAK/DC,eAAO,eAACJ,CAAD;AAAA,mBAAO,IAAIL,MAAJ,CAAW,EAACU,UAAUjC,YAAYkC,KAAZ,CAAkBN,EAAEO,IAApB,EAA0BF,QAArC,EAAX,CAAP;AAAA,SALwD;AAM/DG,YAAI,YAACR,CAAD;AAAA,mBAAO7B,EAAEsC,WAAF,CAAcT,EAAEO,IAAhB,IAAwBG,SAAxB,GAAoCV,EAAEO,IAAF,IAAUnC,YAAYmC,IAAZ,CAAiBI,GAAtE;AAAA;AAN2D,KAAnE;;AAUA7B,qBAAiBY,SAAjB,CAA2BkB,QAA3B,GAAsCtC,SAASa,MAAT,CAAgB,YAAW;AAC7D,wCAA8BJ,KAAK,KAAKC,EAAV,EAAckB,aAA5C,WAA+D,KAAKlB,EAApE;AACH,KAFqC,CAAtC;;AAIAF,qBAAiBY,SAAjB,CAA2BmB,MAA3B,GAAoCvC,SAASa,MAAT,CAAgB,YAAW;;AAE3D,YAAG,CAAC,KAAKqB,EAAN,IAAY,EAAE,KAAKf,IAAL,IAAa,KAAKA,IAAL,CAAUqB,UAAvB,IAAqC,KAAKrB,IAAL,CAAUqB,UAAV,CAAqBN,EAA5D,CAAf,EAAgF;AAC5E,mBAAOvC,EAAE8C,aAAT;AACH;AACD1C,gBAAQ2C,UAAR,CAAmB,MAAnB,EAA2B,wBAA3B,EAAqD,EAACC,UAAUlC,KAAK,KAAKC,EAAV,EAAcS,IAAzB,EAA+BT,IAAI,KAAKA,EAAxC,EAArD;AACA,eAAOf,EAAEiD,EAAT;AACH,KAPmC,CAApC;;AASAvB,WAAOwB,cAAP,CAAsB5C,OAAtB,EAA+B,kBAA/B,EAAmD,EAAC6C,YAAY,IAAb,EAAmBC,OAAOvC,gBAA1B,EAAnD;AACH,CAnDD","file":"../../game/construction-sites.js","sourceRoot":"/src"}